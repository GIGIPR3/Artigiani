<div class="card productss d-flex align-items-center">
  <h2 class="text-center">{{ productData.name }}</h2>
    <div class="d-flex justify-content-evenly">
      <div class="image-thumbnails">
        <img *ngFor="let image of productData.images; let i = index"
          [src]="'data:image/jpeg;base64,' + image.imageData"
          alt="Product Image"
          (click)="showImage(i)"></div>
      <div class="d-flex flex-column align-items-center justify-content-center">
        <p class="text-center">Description: {{ productData.description }}</p>
        <p>Price: ${{ productData.price }}</p>
        <p class="text-center">Created At: {{ productData.createdAt }}</p>
        <p>rating: {{ productData.productRating.toFixed(1) }}</p>
      </div>
      <div class="d-flex flex-column align-items-center justify-content-center">
        <button  class="btn btn-warning buttons1 mb-2">Modifica</button>
        <div  *ngIf="isRouterPageAdmin(); else nonAdminContent"></div>
        <button *ngIf="isRouterPageAdmin()"
        (click)="onDelete(productData.productId)" class="btn buttons2 btn-danger">Elimina</button>
    </div>
  </div>
  <div
    *ngIf="productData.linkedCategoryId && productData.linkedCategoryId.length > 0">
    <p>Categories:</p>
    <ul>
      <li *ngFor="let categoryString of productData.linkedCategoryId">
        {{ categoryString.split("name: ")[1] }}
      </li>
    </ul>
  </div>
  <button class="mt-4 btn btn-info s-review" (click)="getReviews(productData.productId)">Show Reviews</button>
  <div *ngIf="isRoutterPageCart()">
    <button (click)="onDeleteFromCart(productData.productId); parentDelete(productData.productId)">Delete</button>
  </div>
  <div *ngIf="showReview">
    <tr *ngFor="let review of reviews">
      <td>{{ review.comment }}</td>
      <td>{{ review.rating }}</td>
    </tr>
  </div>

  <ng-template #nonAdminContent>
    <div class="d-flex flex-column align-items-center justify-content-center mb-2" [formGroup]="descriptionForm">
      <input formControlName="comment" placeholder="Review" />
      <input
        formControlName="rating"
        type="number"
        placeholder="Rating from 1-10"
      />
    </div>
    <button class="btn btn-primary mb-2 buttons1" (click)="addDescription(productData.productId)">Add Review</button>
    <button class="btn btn-success buttons1" (click)="addCart(productData.productId)">Add Cart</button>
  </ng-template>
</div>
